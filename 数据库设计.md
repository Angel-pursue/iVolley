# 数据库设计

前端上传图像和视频后，服务器本地存储图像和视频，数据库存储对应的URL。

## 实体

+ 学生（<u>学号</u>， 姓名， 密码， 邮箱， 头像）**student表**

| 字段名           | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注                |
| ---------------- | -------- | -------- | -------- | ----------- | ------------------- |
| student_ID       | VARCHAR  | NO       |          | PRIMARY KEY | 学号                |
| student_name     | VARCHAR  | NO       |          |             |                     |
| student_password | VARCHAR  | NO       |          |             |                     |
| student_email    | VARCHAR  | NO       |          | UNIQUE      |                     |
| student_picture  | VARCHAR  | YES      |          |             | 存储图片在本地的URL |

+ 教师（<u>教工号</u>， 姓名， 密码， 邮箱， 头像）**teacher表**

| 字段名           | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注                |
| ---------------- | -------- | -------- | -------- | ----------- | ------------------- |
| teacher_ID       | VARCHAR  | NO       |          | PRIMARY KEY | 学工号              |
| teacher_name     | VARCHAR  | NO       |          |             |                     |
| teacher_password | VARCHAR  | NO       |          |             |                     |
| teacher_email    | VARCHAR  | NO       |          | UNIQUE      |                     |
| teacher_picture  | VARCHAR  | YES      |          |             | 存储图片在本地的URL |

+ 班级（<u>ID</u>， 学期， 体育类别，班级名称）**class表**

| 字段名         | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注 |
| -------------- | -------- | -------- | -------- | ----------- | ---- |
| class_ID       | VARCHAR  | NO       | YES      | PRIMARY KEY |      |
| class_semester | VARCHAR  | NO       |          |             |      |
| class_sport    | VARCHAR  | NO       |          |             |      |
| class_name     | VARCHAR  | NO       |          |             |      |

+ 任务（<u>ID</u>，所属班级， 发布教师， 标题， 内容， 发布时间， 截止时间）**class表**

| 字段名           | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注 |
| ---------------- | -------- | -------- | -------- | ----------- | ---- |
| task_ID          | VARCHAR  | NO       | YES      | PRIMARY KEY |      |
| class_ID         | VARCHAR  | NO       |          | FOREIGN KEY |      |
| teacher_ID       | VARCHAR  | NO       |          | FOREIGN KEY |      |
| task_title       | VARCHAR  | NO       |          |             |      |
| task_content     | TEXT     | NO       |          |             |      |
| task_releasetime | DATETIME | NO       |          |             |      |
| task_deadline    | DATETIME | NO       |          |             |      |

+ 视频（<u>ID</u>， 所属任务， 提交学生， 提交时间， URL）**video表**

| 字段名        | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注                                         |
| ------------- | -------- | -------- | -------- | ----------- | -------------------------------------------- |
| video_ID      | VARCHAR  | NO       | YES      | PRIMARY KEY |                                              |
| task_ID       | VARCHAR  | YES      |          | FOREIGN KEY | 学生可自主上传视频，视频可不属于任何一个任务 |
| student_ID    | VARCHAR  | NO       |          | FOREIGN KEY |                                              |
| video_subtime | DATETIME | NO       |          |             |                                              |
| video_URL     | VARCHAR  | NO       |          |             | 视频在本地的URL                              |

+ 反馈结果（<u>ID</u>， 所属视频，发布教师， 反馈时间）**feedback表**

| 字段名        | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注                                         |
| ------------- | -------- | -------- | -------- | ----------- | -------------------------------------------- |
| feedback_ID   | VARCHAR  | NO       | YES      | PRIMARY KEY |                                              |
| video_ID      | VARCHAR  | NO       |          | FOREIGN KEY | 学生可自主上传视频，视频可不属于任何一个任务 |
| teacher_ID    | VARCHAR  | NO       |          | FOREIGN KEY |                                              |
| feedback_time | DATETIME | NO       |          |             |                                              |

## 联系（多对多）

+ 学生-班级（<u>班级ID， 学号</u>）**student_class表**

| 字段名     | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注 |
| ---------- | -------- | -------- | -------- | ----------- | ---- |
| class_ID   | VARCHAR  | NO       |          | PRIMARY KEY |      |
| student_ID | VARCHAR  | NO       |          | PRIMARY KEY |      |

+ 教师-班级（<u>班级ID， 教工号</u>）**teacher_class表**

| 字段名     | 数据类型 | 允许非空 | 自动递增 | 完整性约束  | 备注 |
| ---------- | -------- | -------- | -------- | ----------- | ---- |
| class_ID   | VARCHAR  | NO       |          | PRIMARY KEY |      |
| teacher_ID | VARCHAR  | NO       |          | PRIMARY KEY |      |

